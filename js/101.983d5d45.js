(globalThis["webpackChunkChatGPT"]=globalThis["webpackChunkChatGPT"]||[]).push([[101],{1089:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var r=a(9835);const s={class:"q-pa-lg row justify-center"},o={style:{width:"100%"}},n={key:0},l={key:1};function c(e,t,a,c,h,d){const g=(0,r.up)("q-chat-message"),i=(0,r.up)("q-page"),u=(0,r.up)("q-btn"),m=(0,r.up)("q-input"),p=(0,r.up)("q-footer");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(i,{ref:"pageChat"},{default:(0,r.w5)((()=>[(0,r._)("div",s,[(0,r._)("div",o,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.chats,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.from},["chatgpt"===e.from?((0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(g,{name:e.from,avatar:"https://cdn-icons-png.flaticon.com/64/9108/9108014.png",text:e.text,"text-color":"grey-1","bg-color":"grey-7","text-html":"",stamp:"👍       👎"},null,8,["name","text"])])):((0,r.wg)(),(0,r.iD)("div",l,[(0,r.Wm)(g,{name:e.from,avatar:"https://cdn-icons-png.flaticon.com/64/906/906265.png",text:e.text,"text-color":"grey-1","bg-color":"grey-9",sent:"","text-html":""},null,8,["name","text"])]))])))),128))])])])),_:1},512),(0,r.Wm)(p,{class:"bg-black"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.iD)("div",{class:"q-pa-sm",style:{width:"100%"},key:e.renderKey},[(0,r.Wm)(m,{ref:"chat_user",square:"",outlined:"",autogrow:"",modelValue:e.chat_user,"onUpdate:modelValue":t[1]||(t[1]=t=>e.chat_user=t)},{append:(0,r.w5)((()=>[(0,r.Wm)(u,{round:"",dense:"",flat:"",icon:"send",onClick:t[0]||(t[0]=t=>e.addChatUser())})])),_:1},8,["modelValue"])]))])),_:1})],64)}a(9665);var h=a(3703),d=a(425),g={foo(){console.log("-----")},googleAnswerAdapter(e,t,a){var r=new Headers,s=Math.floor(Date.now()/1e3),o={op:e,ts:s};"getAnswerID"!=e&&(o.aid=t,o.prev=a);var n=JSON.stringify(o),l={method:"POST",headers:r,body:n,redirect:"follow"},c=d.MD5("f7a8c6a97f982374a086e3deb3b4d989"+n).toString();return fetch("https://script.google.com/macros/s/AKfycbx95cLwGtmZjpKINBK0KjsdXv82RxhFfrYhb-6ZUAlLxTUTJPeb5tyf1Ydz0UGuZ1QX/exec?k="+c,l).then((e=>e.json())).catch((e=>{console.log(e)}))}};const i=g;i.foo();const u=(0,r.aZ)({name:"IndexPage",methods:{addChatUser(){if(""===this.chat_user)return;let e=h.Z.getItem("answerCount")+1;h.Z.set("answerCount",e);let t=this.chat_user.replace(/\n/g,"<br>");this.chats.push({from:"me",text:[t]}),this.clearMessage(),this.scrollToBottom();let a=500,r=2500,s=Math.floor(Math.random()*(r-a+1)+a);setTimeout((()=>this.getNextAnswer(e)),s)},getNextAnswer(e){i.googleAnswerAdapter("getNextAnswer",this.answerID,e).then((e=>{if(200==e.rc){let t=e.data.msg.replace(/\n/g,"<br>");this.chats.push({from:"chatgpt",text:[t]}),this.scrollToBottom()}}))},reRender(){this.renderKey++},clearMessage(){this.chat_user="",this.$refs.chat_user.blur()},scrollToBottom(){let e=this.$refs.pageChat.$el;setTimeout((()=>{window.scrollTo(0,e.scrollHeight)}),20)}},created(){i.googleAnswerAdapter("getAnswerID").then((e=>{200==e.rc&&(this.answerID=e.data.id)})),h.Z.set("answerCount",-1)},data(){return{answerID:1,chat_user:"",renderKey:0,chats:[]}}});var m=a(1639),p=a(9885),w=a(396),f=a(1378),x=a(6867),b=a(7065),y=a(9984),v=a.n(y);const A=(0,m.Z)(u,[["render",c]]),C=A;v()(u,"components",{QPage:p.Z,QChatMessage:w.Z,QFooter:f.Z,QInput:x.Z,QBtn:b.Z})},2480:()=>{}}]);